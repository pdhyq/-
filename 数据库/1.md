#### LIMIT

select语句中，子句LIMIT 5, 5指示MySQL返回从行5开始的5行。所以，带一个值的LIMIT总是从第一行开始，给出的数为返回的行数。 带两个值的LIMIT可以指定从行号为第一个值的位置开始。 **行0 检索出来的第一行为行0而不是行1。因此，LIMIT 1, 1 将检索出第二行而不是第一行。** 在行数不够时 LIMIT中指定要检索的行数为检索的最大行 数。如果没有足够的行（例如，给出LIMIT 10, 5，但只有13 行），MySQL将只返回它能返回的那么多行。

MySQL 5的LIMIT语法 LIMIT 3, 4的含义是从行4开始的3 行还是从行3开始的4行？如前所述，**它的意思是从行3开始的4 行**，这容易把人搞糊涂。  由于这个原因，MySQL 5支持LIMIT的另一种替代语法。LIMIT 4 OFFSET 3意为从行3开始取4行，就像LIMIT 3, 4一样。

#### ORDER BY

**数据排序不限于升序排序（从A到Z）。这只是默认的排序顺序**，还可 以使用ORDER BY子句以降序（从Z到A）顺序排序。为了进行降序排序， 必须指定DESC关键字。==**DESC关键字只应用到直接位于其前面的列名（在多个列上降序排序 如果想在多个列上进行降序排序，必须 对每个列指定DESC关键字。**）==。与DESC相反的关键字是ASC（ASCENDING），在升序排序时可以指定它。 但实际上，ASC没有多大用处，**因为升序是默认**的（如果既不指定ASC也 不指定DESC，则假定为ASC）

![image-20230423143553824](C:\Users\痞妖\AppData\Roaming\Typora\typora-user-images\image-20230423143553824.png)

在上例中，**只对 prod_price列指定DESC，对prod_name列不指定。**因此， prod_price列以降序排序，而prod_name列（在每个价格内）仍然按标准 的升序排序。



使用ORDER BY和LIMIT的组合，能够找出一个列中最高或最低的值。 下面的例子演示如何找出最昂贵物品的值：

```sql
select prod_price 
from products
order by prod_price DESC
limit 1;
```

prod_price DESC保证行是按照由最昂贵到最便宜检索的，而 LIMIT 1告诉MySQL仅返回一行。

#### WHERE

SQL（像多数语言一样）在处理OR操作符前，优先处理AND操 作符，AND在计算次序中优先级更高



IN WHERE子句中用来指定要匹配值的清单的关键字，功能与OR 相当。

为什么要使用IN操作符？其优点具体如下。 

 在使用长的合法选项清单时，IN操作符的语法更清楚且更直观。 

 在使用IN时，计算的次序更容易管理（因为使用的操作符更少）。 

 **IN操作符一般比OR操作符清单执行更快。 **

 IN的最大优点是可以包含其他SELECT语句，使得能够更动态地建 立WHERE子句。第14章将对此进行详细介绍。



#### 百分号（%）通配符

注意尾空格 尾空格可能会干扰通配符匹配。例如，**在保存词 anvil 时，如果它后面有一个或多个空格，则子句WHERE  prod_name LIKE '%anvil'将不会匹配它们**，因为在最后的 'l' 后有多余的字符。解决这个问题的一个简单的办法是在搜索模式最后附加一个%。一个更好的办法是使用函数（第11章将会 介绍）去掉首尾空格。(尾空格也算作了有效字符)



#### 正则表达式

<font color=red>正则表达式是用来匹配文本 的特殊的串（字符集合）。</font>如果你想从一个文本文件中提取电话号码，可 以使用正则表达式。如果你需要查找名字中间有数字的所有文件，可以 使用一个正则表达式。如果你想在一个文本块中找到所有重复的单词， 可以使用一个正则表达式。如果你想替换一个页面中的所有URL为这些 URL的实际HTML链接，也可以使用一个正则表达式

```sql
select prod_name
from products
where prod_name REGEXP '1000'
order by prod_name;
```

这条语句检索列prod_name包含 文本1000的所有行，除关键字LIKE被REGEXP替代外，这条语句看上去非常像使用 LIKE的语句（第8章）。它告诉 MySQL：REGEXP 后所跟的东西作为正则表达式（与文字正文1000匹配的一个正则表达式）处理。

LIKE与REGEXP 在LIKE和REGEXP之间有一个重要的差别，**LIKE匹配整个列**。如果被匹配的文本在列值中出现，LIKE将不会找到它，相应的行也不被返回（除非使用通配符）（不使用通配符，就和等值查询一样）。**而REGEXP在列值内进行匹配**，如果被匹配的文本在 列值中出现，REGEXP将会找到它，相应的行将被返回。这是一 个非常重要的差别。

上面这两个的意思我认为就相当于有一个列值为1000，like ‘1’  就是拿1和整个1000作比较，所以称为匹配整个列，而regexp ‘1’ 是拿1 看看1000这个列值里边有没有。[总体来看就是比较的是整体还是部分。]([(36 封私信 / 80 条消息) MySQL中LIKE匹配整个列应该怎么理解？ - 知乎 (zhihu.com)](https://www.zhihu.com/question/445959501))

剩余操作：

* 进行OR匹配
* 匹配几个字符之一
* 匹配范围
* 匹配特殊字符（转义字符）

![image-20230426000651025](C:\Users\痞妖\AppData\Roaming\Typora\typora-user-images\image-20230426000651025.png)

> \或\\\ ? 多数正则表达式实现使用单个反斜杠转义特殊字符， 以便能使用这些字符本身。但MySQL要求两个反斜杠（MySQL 自己解释一个，正则表达式库解释另一个）。



#### 函数

MySQL的不同之处 多数DBMS使用+或||来实现拼接， MySQL则使用Concat()函数来实现。当把SQL语句转换成 MySQL语句时一定要把这个区别铭记在心。

Trim函数 MySQL除了支持RTrim()（正如刚才所见，它去掉 串右边的空格），还支持LTrim()（去掉串左边的空格）以及 Trim()（去掉串左右两边的空格）

Concat()拼接串，即把多个串连接起来形成一个较长的串。













